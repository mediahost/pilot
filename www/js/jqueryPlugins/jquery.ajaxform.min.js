jQuery.fn.extend({ajaxSubmit:function(h){var f;var d={};if(this.is(":submit")){f=this.parents("form");d[this.attr("name")]=this.val()||""}else{if(this.is("form")){f=this}else{return null}}if(f.get(0).onsubmit&&f.get(0).onsubmit()===false){return null}var b=f.serializeArray();for(var e=0;e<b.length;e++){var c=b[e].name;if(c in d){var g=d[c];if(!(g instanceof Array)){g=[g]}g.push(b[e].value);d[c]=g}else{d[c]=b[e].value}}var a={url:f.attr("action"),data:d,type:f.attr("method")||"get"};if(h){a.success=h}return jQuery.ajax(a)}});